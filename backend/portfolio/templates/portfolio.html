{% extends 'base.html' %}
{% load static %}

{% block title %}
    {% if personal_info %}
        {{ personal_info.full_name }} - Portfolio
    {% else %}
        My Portfolio
    {% endif %}
{% endblock %}

{% block content %}
    <!-- Home Section  -->
    <section id="home" class="hero">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title"> <span class="highlight">
                        {% if personal_info %}{{ personal_info.full_name }}{% else %}Your Name{% endif %}
                    </span></h1>
                    <h2 class="hero-subtitle">
                        {% if personal_info %}{{ personal_info.job_title }}{% else %}Full Stack Developer{% endif %}
                    </h2>

               </div>
                <div class="hero-image">
                    <div class="image-placeholder">
                        {% if personal_info and personal_info.profile_image %}
                            <img src="{{ personal_info.profile_image.url }}" alt="{{ personal_info.full_name }}">
                        {% else %}
                            <i class="fas fa-user"></i>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </section>
                        <!-- <div class="hero-buttons">
                        <a href="#projects" class="btn btn-primary">View My Work</a>
                        <a href="#contact" class="btn btn-secondary">Get In Touch</a>
                    </div> -->

      <!-- About Section - Full Width -->
<section id="about" class="about reveal">
    <div class="container">
        <h2 class="section-title">About Me</h2>

        <div class="about-card">
            <p>
                {{ personal_info.bio|default:"I am a passionate developer with experience in creating modern web applications. I enjoy solving complex problems and building efficient, scalable solutions." }}
            </p>
        </div>
    </div>
</section>


    <!-- Stats Section - Separate -->
    <!-- <section class="stats-section"> -->
        <!-- <div class="stats-container">
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>{{ projects_count|default:"0" }}</h3>
                    <p>Projects Completed</p>
                </div>
                <div class="stat-card">
                    <h3>{{ experience_years|default:"0" }}</h3>
                    <p>Years Experience</p>
                </div>
                <div class="stat-card">
                    <h3>{{ certifications_count|default:"0" }}</h3>
                    <p>Certifications</p>
                </div>
                
            </div>
        </div> -->
    <!-- </section> -->

            <!-- Education Section -->
<section id="education" class="education">
        <div class="container">
            <h2 class="section-title">Education</h2>
            <div class="education-timeline">
                {% for edu in education %}
                <div class="education-item">
                    <div class="education-header">
                        {% if edu.institution_logo %}
                            <img src="{{ edu.institution_logo.url }}" alt="{{ edu.institution }} logo" class="education-logo">
                        {% else %}
                            <div class="education-logo-placeholder">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                        {% endif %}
                        <div class="education-info">
                            <h3>{{ edu.get_degree_display }} in {{ edu.field_of_study }}</h3>
                            <h4>{{ edu.institution }}</h4>
                            <span class="education-date">
                                {{ edu.start_date|date:"M Y" }} - 
                                {% if edu.currently_studying %}Present{% else %}{{ edu.end_date|date:"M Y" }}{% endif %}
                                {% if edu.grade %} â€¢ {{ edu.grade }}{% endif %}
                            </span>
                        </div>
                    </div>
                    {% if edu.description %}
                    <div class="education-description">
                        <p>{{ edu.description }}</p>
                    </div>
                    {% endif %}
                    {% if edu.website %}
                    <div class="education-links">
                        <a href="{{ edu.website }}" target="_blank" class="btn btn-outline">
                            <i class="fas fa-external-link-alt"></i> Visit Website
                        </a>
                    </div>
                    {% endif %}
                </div>
                {% empty %}
                <div class="no-education">
                    <p>No education information available.</p>
                </div>
                {% endfor %}
            </div>
        </div>
</section>

<!-- Skills Section -->
<section id="skills" class="skills reveal fade-in">
    <div class="container">
        <h2 class="section-title">Skills & Technologies</h2>

        <div class="skills-grid">
            {% for category, skills in skills_by_category.items %}
            <div class="skill-category">
                <h3>{{ category }}</h3>

                <div class="skills-list">
                    {% for skill in skills %}
<div class="skill-item">
    <i class="skill-icon"></i>
    <span class="skill-name">{{ skill.skill_name }}</span>
</div>

                    {% endfor %}
                </div>
            </div>
            {% empty %}
            <div class="no-skills">
                <p>No skills found.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Projects Section -->
<section id="projects" class="projects">
    <div class="container">
        <h2 class="section-title">My Projects</h2>
        <div class="projects-grid">
            {% for project in projects %}
            <div class="project-card">
                <div class="project-content">
                    <h3>{{ project.title }}</h3>
                    <p>{{ project.description }}</p>
                    <div class="project-technologies">
                        {% for tech in project.technologies %}
                        <span class="tech-tag">{{ tech }}</span>
                        {% endfor %}
                    </div>
                    <div class="project-links">
                        {% if project.project_url %}
                        <a href="{{ project.project_url }}" target="_blank" class="btn btn-primary">
                            <i class="fas fa-external-link-alt"></i> Visit Site
                        </a>
                        {% endif %}
                        {% if project.github_url %}
                        <a href="{{ project.github_url }}" target="_blank" class="btn btn-secondary">
                            <i class="fab fa-github"></i> GitHub
                        </a>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="no-projects">
                <p>No projects found.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

 <!-- Experience Section -->
<section id="experience" class="experience">
    <div class="container">
        <h2 class="section-title">Work Experience</h2>

        <div class="timeline">
            {% for exp in experience %}
            <div class="timeline-content">

                <!-- Company + Logo + Position -->
                <div class="company-header">
                    {% if exp.company_logo %}
                        <img src="{{ exp.company_logo.url }}" alt="{{ exp.company }} logo" class="company-logo">
                    {% else %}
                        <div class="company-logo-placeholder">
                            <i class="fas fa-building"></i>
                        </div>
                    {% endif %}

                    <div class="company-info">
                        <h3>{{ exp.position }}</h3>
                        <h4>{{ exp.company }}</h4>

                        <!-- ðŸ”¥ Date is now aligned directly under the company info -->
                        <span class="timeline-date">
                            {{ exp.start_date|date:"M Y" }} - 
                            {% if exp.current_job %}Present{% else %}{{ exp.end_date|date:"M Y" }}{% endif %}
                        </span>
                    </div>
                </div>

                <!-- Description -->
                <p class="experience-description">
                    {{ exp.description|default:"No description available." }}
                </p>

            </div>
            {% empty %}
            <div class="no-experience">
                <p>No experience entries found.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>


    <!-- Certifications Section -->
    <section id="certifications" class="certifications">
        <div class="container">
            <h2 class="section-title">Certifications</h2>
            <div class="certifications-grid">
                {% for cert in certifications %}
                <div class="certification-card">
                    <i class="fa-solid fa-certificate cert-icon"></i>
                    <h3>{{ cert.name }}</h3>
                    <p class="organization">{{ cert.issuing_organization }}</p>
                    <p class="date">
                        Issued: {{ cert.issue_date|date:"M Y" }}
                        {% if cert.expiration_date %}
                            <br>Expires: {{ cert.expiration_date|date:"M Y" }}
                        {% endif %}
                    </p>
                    {% if cert.credential_id %}
                        <div class="credential">ID: {{ cert.credential_id }}</div>
                    {% endif %}
                    {% if cert.credential_url %}
                        <a href="{{ cert.credential_url }}" target="_blank" class="btn btn-primary">
                            <i class="fas fa-external-link-alt"></i> Verify
                        </a>
                    {% endif %}
                </div>
                {% empty %}
                <div class="no-certifications">
                    <p>No certifications found.</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>




      <!-- Contact Section -->
    <section id="contact" class="contact reveal">
        <div class="container">
            <h2 class="section-title">Get In Touch</h2>
            <div class="contact-content">
                <div class="contact-info">
                    <h3>Contact Information</h3>
                    <div class="contact-details">
                        {% if personal_info %}
                            <p><i class="fas fa-envelope"></i> {{ personal_info.email }}</p>
                            <p><i class="fas fa-phone"></i> {{ personal_info.phone|default:"Not provided" }}</p>
                            <p><i class="fas fa-map-marker-alt"></i> {{ personal_info.location|default:"Not provided" }}</p>
                        {% else %}
                            <p><i class="fas fa-envelope"></i> your.email@example.com</p>
                            <p><i class="fas fa-phone"></i> +1234567890</p>
                            <p><i class="fas fa-map-marker-alt"></i> Your City, Country</p>
                        {% endif %}
                    </div>
                </div>
                <form class="contact-form" method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        <input type="text" name="name" placeholder="Your Name" required>
                    </div>
                    <div class="form-group">
                        <input type="email" name="email" placeholder="Your Email" required>
                    </div>
                    <div class="form-group">
                        <input type="text" name="subject" placeholder="Subject" required>
                    </div>
                    <div class="form-group">
                        <textarea name="message" placeholder="Your Message" rows="5" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Send Messagesssss</button>
                </form>
            </div>
        </div>
    </section>
{% endblock %}